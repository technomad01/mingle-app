{"ast":null,"code":"import _regeneratorRuntime from\"/Users/claudiaemmanuel/sei/coding-projects/fullstack-mingle-app/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/claudiaemmanuel/sei/coding-projects/fullstack-mingle-app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/claudiaemmanuel/sei/coding-projects/fullstack-mingle-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{createContext,useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";export var AuthContext=/*#__PURE__*/createContext();export var AuthContextProvider=function AuthContextProvider(_ref){var children=_ref.children;var _useState=useState(JSON.parse(localStorage.getItem(\"user\"))||true),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var login=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(inputs){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"http://localhost:8800/api/auth/login\",inputs,{withCredentials:true});case 2:res=_context.sent;setCurrentUser(res.data);case 4:case\"end\":return _context.stop();}},_callee);}));return function login(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){localStorage.setItem(\"user\",JSON.stringify(currentUser));},[currentUser]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{currentUser:currentUser,login:login},children:children});};","map":{"version":3,"names":["axios","createContext","useEffect","useState","jsx","_jsx","AuthContext","AuthContextProvider","_ref","children","_useState","JSON","parse","localStorage","getItem","_useState2","_slicedToArray","currentUser","setCurrentUser","login","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","inputs","res","wrap","_callee$","_context","prev","next","post","withCredentials","sent","data","stop","_x","apply","arguments","setItem","stringify","Provider","value"],"sources":["/Users/claudiaemmanuel/sei/coding-projects/fullstack-mingle-app/client/src/context/authContext.js"],"sourcesContent":["import axios from \"axios\";\nimport { createContext, useEffect, useState } from \"react\";\n\nexport const AuthContext = createContext();\n\nexport const AuthContextProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(\n    JSON.parse(localStorage.getItem(\"user\")) || true\n  );\n\n  const login = async (inputs) => {\n    const res = await axios.post(\"http://localhost:8800/api/auth/login\", inputs, {\n      withCredentials: true,\n    });\n\n    setCurrentUser(res.data)\n  };\n\n  useEffect(() => {\n    localStorage.setItem(\"user\", JSON.stringify(currentUser));\n  }, [currentUser]);\n\n  return (\n    <AuthContext.Provider value={{ currentUser, login }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};"],"mappings":"oeAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,aAAa,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE3D,MAAO,IAAM,CAAAC,WAAW,cAAGL,aAAa,EAAE,CAE1C,MAAO,IAAM,CAAAM,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAC5C,IAAAC,SAAA,CAAsCP,QAAQ,CAC5CQ,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAI,IAAI,CACjD,CAAAC,UAAA,CAAAC,cAAA,CAAAN,SAAA,IAFMO,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAIlC,GAAM,CAAAI,KAAK,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,MAAM,MAAAC,GAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACP,CAAA/B,KAAK,CAACgC,IAAI,CAAC,sCAAsC,CAAEP,MAAM,CAAE,CAC3EQ,eAAe,CAAE,IACnB,CAAC,CAAC,QAFIP,GAAG,CAAAG,QAAA,CAAAK,IAAA,CAIThB,cAAc,CAACQ,GAAG,CAACS,IAAI,CAAC,yBAAAN,QAAA,CAAAO,IAAA,MAAAZ,OAAA,GACzB,kBANK,CAAAL,KAAKA,CAAAkB,EAAA,SAAAjB,KAAA,CAAAkB,KAAA,MAAAC,SAAA,OAMV,CAEDrC,SAAS,CAAC,UAAM,CACdW,YAAY,CAAC2B,OAAO,CAAC,MAAM,CAAE7B,IAAI,CAAC8B,SAAS,CAACxB,WAAW,CAAC,CAAC,CAC3D,CAAC,CAAE,CAACA,WAAW,CAAC,CAAC,CAEjB,mBACEZ,IAAA,CAACC,WAAW,CAACoC,QAAQ,EAACC,KAAK,CAAE,CAAE1B,WAAW,CAAXA,WAAW,CAAEE,KAAK,CAALA,KAAM,CAAE,CAAAV,QAAA,CACjDA,QAAQ,EACY,CAE3B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}